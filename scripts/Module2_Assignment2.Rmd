---
title: "Module 2 Assignment 2"
author: "Ellen Bledsoe"   # <- your name here
date: "`r Sys.Date()`"    # <- date here
output: pdf_document
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Assessing Accuracy

## Assignment Details

### Purpose

The goal of this assignment is to use R to calculate and understand
accuracy of estimates.

### Task

Write R code to successfully answer each question below or write text to
successfully answer the question.

### Criteria for Success

-   Code is within the provided code chunks
-   Code is commented with brief descriptions of what the code does
-   Code chunks run without errors
-   Code produces the correct result
-   Text answers correctly address the question asked

### Due Date

Sept. 29 at midnight MST

------------------------------------------------------------------------

## Assignment Questions

### Short Answer (2 pt each)

1.  Define the sample standard deviation (not the equation but what
    stdev tells us).

2.  Define the standard error of the estimate of the mean (again, what
    is tells us).

3.  How do standard deviation and standard error differ? (If you've
    explained that above, reiterate it here.)

4.  What does a confidence interval tell us?

### Calculations

Each question is worth 1 point unless otherwise noted.

#### Set-up:


```{r}
library(tidyverse)
library(portalr)
```

```{r}
abundance <- abundance(level = "Plot",
                       type = "Rodents",
                       time = "all")
```
```{r}
# filter period 500 and and select "PP" column
PP440 <- abundance %>% 
  filter(period == 440, treatment != "removal") %>% 
  select(period, plot, PP)

PB440 <- abundance %>% 
  filter(period == 440, treatment != "removal") %>% 
  select(period, plot, PB)
```


We don't know `N` in this scenario, but we do know `n`. Create the object `n`, which is your *sample size,* the number of sample units that make up your sample. To do this, use the `nrow()` function.

    (Hint: if you don't remember how to use the `nrow()` function, run
    `?nrow`)

```{r}
n <- nrow(PP440)
```

### Estimating the Mean

8.  Create an object called `rocks_mean` that contains the sample mean
    (AKA the mean number of dark stones per sample unit). Follow the
    code example above.

```{r}
PP_mean <- mean(PP440$PP)
```

9.  Create objects called `rocks_var` and `rocks_sd` which contain the
    sample variance and sample standard deviation, respectively. Hint:
    use `var()` and `sd()` functions.

```{r}
PP_var <- var(PP440$PP)
PP_sd <- sd(PP440$PP)
```

### Calculating Standard Error for the Mean

Because we don't know what `N` is, we don't need to use the population correction factor when calculating our standard error and whatnot.

```{r}
PP_var_ybar <- PP_var / n
```

12. Calculate the SE of the estimate of the mean by taking the square
    root of the `rocks_var_ybar` value. Call this object rocks_SE.

```{r}
PP_SE <- sqrt(PP_var_ybar)
```

### Calculating Confidence Intervals for the Mean

Hooray, we've now calculated the sample mean, sample variance, sample
standard deviation, and the standard error (among other things)! Let's
calculate a 95% confidence interval for our sample mean.

13. Create an object called `alpha95` to represent our alpha value for a
    95% confidence interval. Because this is a constant, we can assign a
    number to it.

```{r}
alpha95 <- 0.05
```

14. Create an object called `df` for degrees of freedom. Use the object
    `n` in your calculation.

```{r}
df <- n-1
```

We are going to use a function called `qt()` to find the t-value that we
need. Assuming you've created the objects `alpha` and `df` above,
running this code chunk will give us our t-value, or critical value, for
95% CI.

```{r}
t95 <- qt(1-(alpha95)/2, df)
```

15. Using `t95` and the standard error that we calculated earlier,
    create an object called `half_width` which contains the half-width
    value for the 95% CI.

```{r}
halfwidth_95 <- t95 * PP_SE
```

16. Calculate the upper and lower limits of the 95% confidence intervals. Use objects you've already created to calculate it.

```{r}
upperCI_95 <- PP_mean + halfwidth_95
lowerCI_95 <- PP_mean - halfwidth_95
```

18. Report (AKA type out) the 95% CI for the estimate of the mean below.
    What does this range tell us about our data? (2 points)

19. What happens when we created 90% CI for the data. Calculate 90% CI and compare to the 95% CI. Which one is wider? Why? (2 points)
```{r}
alpha90 <- 0.1
t90 <- qt(1-(alpha90)/2, df)
half_width_90 <- t90 * PP_SE

upperCI_90 <- PP_mean + halfwidth_90
lowerCI_90 <- PP_mean - halfwidth_90
```


### PB data

Let's do the same thing for our _Chaetodipus baileyi_ (PB) data. 

8.  Create an object called `rocks_mean` that contains the sample mean
    (AKA the mean number of dark stones per sample unit). Follow the
    code example above.

```{r}
PB_mean <- mean(PB440$PB)
```

9.  Create objects called `PB_var` and `PB_sd` which contain the
    sample variance and sample standard deviation, respectively. Hint:
    use `var()` and `sd()` functions.

```{r}
PB_var <- var(PB440$PB)
PB_sd <- sd(PB440$PB)
```

### Calculating Standard Error for the Mean

Because we don't know what `N` is, we don't need to use the population correction factor when calculating our standard error and whatnot.

```{r}
PB_var_ybar <- PB_var / n
```

12. Calculate the SE of the estimate of the mean by taking the square
    root of the `rocks_var_ybar` value. Call this object rocks_SE.

```{r}
PB_SE <- sqrt(PB_var_ybar)
```

13. Create 95% CI for the PB data.
```{r}
halfwidth_95_PB <- t95 * PB_SE

upperCI_95_PB <- PB_mean + halfwidth_95_PB
lowerCI_95_PB <- PB_mean - halfwidth_95_PB
```

14. Compare the ranges of the 95% CI for the PP and the PB data. Which estimate of the mean seems to be more accurate, based on size of the confidence intervals? Why do you think that is?

_Answer:_
